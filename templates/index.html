{% extends "base.html" %}
    {% block title %}Index{% endblock %}
{% block head %}
    {{ super() }}
{% endblock %}
{% block content %}
<title>Upload new File</title>
<h1> Eval a photo </h1>

<h2> Select a file from your computer </h2>
<form id="upload-file" method="post" enctype="multipart/form-data">
        <label for="file">Select a file</label>
        <input name="file" type="file">
        <button id="upload-file-btn" type="button">Upload</button>
</form>

<h2> Provide your url </h2>
<form id="url" method="post" enctype="multipart/form-data">
        <label for="url">Select a file</label>
        <input name="url" type="text">
        <button id="upload_url" type="button">Send</button>
</form>

<script language="javascript" type="text/javascript">

$(function() {
    $('#upload-file-btn').click(function() {
        var form_data = new FormData($('#upload-file')[0]);
        $.ajax({
            type: 'POST',
            url: '/upload',
            data: form_data,
            contentType: false,
            cache: false,
            processData: false,
            async: false,
            success: function(data) {
                console.log('Success!');
            },
        });
    });
});

$(function() {
    $('#upload_url').click(function() {
        var form_data = new FormData($('#url')[0]);
        $.ajax({
            type: 'POST',
            url: '/upload_url',
            data: form_data,
            contentType: false,
            cache: false,
            processData: false,
            async: false,
            success: function(data) {
                console.log('Success!');
            },
        });
    });
});

</script>


{% endblock %}